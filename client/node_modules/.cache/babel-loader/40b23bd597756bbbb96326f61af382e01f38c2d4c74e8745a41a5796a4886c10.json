{"ast":null,"code":"import React,{useState}from'react';import useStyles from\"./styles.js\";import{useSelector}from'react-redux';import{Grid,CircularProgress,Button,Typography,Card,CardContent,CardMedia,CardActions}from'@material-ui/core';import ThumbUpAltIcon from'@material-ui/icons/ThumbUpAlt';import DeleteIcon from'@material-ui/icons/Delete';import MoreHorizIcon from'@material-ui/icons/MoreHoriz';import moment from'moment';import{useDispatch}from'react-redux';import{deletePost,likePost}from'../../actions/posts';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Posts=_ref=>{let{setCurrentId}=_ref;const classes=useStyles();const dispatch=useDispatch();const posts=useSelector(state=>state.posts);const[loading,setLoading]=useState(false);// To handle action loading state\nconst handleLike=id=>{setLoading(true);dispatch(likePost(id)).finally(()=>setLoading(false));// Reset loading state after dispatch\n};const handleDelete=id=>{setLoading(true);dispatch(deletePost(id)).finally(()=>setLoading(false));// Reset loading state after dispatch\n};return/*#__PURE__*/_jsx(_Fragment,{children:!posts.length?/*#__PURE__*/_jsx(CircularProgress,{}):/*#__PURE__*/_jsx(Grid,{className:classes.container,container:true,alignItems:\"stretch\",spacing:3,children:posts.map(post=>/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,children:/*#__PURE__*/_jsxs(Card,{className:classes.card,children:[/*#__PURE__*/_jsx(CardMedia,{className:classes.media,image:post.selectedFile,title:post.title}),/*#__PURE__*/_jsxs(\"div\",{className:classes.overlay,children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:post.creator}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:moment(post.createdAt).fromNow()})]}),/*#__PURE__*/_jsx(\"div\",{className:classes.overlay2,children:/*#__PURE__*/_jsx(Button,{style:{color:'white'},size:\"small\",color:\"primary\",onClick:()=>setCurrentId(post._id),children:/*#__PURE__*/_jsx(MoreHorizIcon,{fontSize:\"default\"})})}),/*#__PURE__*/_jsx(\"div\",{className:classes.details,children:/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"textSecondary\",children:post.tags.map(tag=>\"#\".concat(tag,\" \"))})}),/*#__PURE__*/_jsx(Typography,{className:classes.title,variant:\"h5\",gutterBottom:true,children:post.title}),/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"textSecondary\",component:\"p\",children:post.message})}),/*#__PURE__*/_jsxs(CardActions,{className:classes.cardActions,children:[/*#__PURE__*/_jsxs(Button,{size:\"small\",color:\"primary\",onClick:()=>handleLike(post._id),disabled:loading,children:[/*#__PURE__*/_jsx(ThumbUpAltIcon,{fontSize:\"small\"}),\" Like\\xA0\",post.likeCount]}),/*#__PURE__*/_jsxs(Button,{size:\"small\",color:\"primary\",onClick:()=>handleDelete(post._id),disabled:loading,style:{color:'red'},children:[/*#__PURE__*/_jsx(DeleteIcon,{fontSize:\"small\"}),\" Delete\"]})]})]})},post._id))})});};export default Posts;","map":{"version":3,"names":["React","useState","useStyles","useSelector","Grid","CircularProgress","Button","Typography","Card","CardContent","CardMedia","CardActions","ThumbUpAltIcon","DeleteIcon","MoreHorizIcon","moment","useDispatch","deletePost","likePost","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Posts","_ref","setCurrentId","classes","dispatch","posts","state","loading","setLoading","handleLike","id","finally","handleDelete","children","length","className","container","alignItems","spacing","map","post","item","xs","sm","card","media","image","selectedFile","title","overlay","variant","creator","createdAt","fromNow","overlay2","style","color","size","onClick","_id","fontSize","details","tags","tag","concat","gutterBottom","component","message","cardActions","disabled","likeCount"],"sources":["C:/Users/adity/OneDrive/Desktop/MemoryNest/client/src/components/Posts/Posts.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport useStyles from \"./styles.js\";\r\nimport { useSelector } from 'react-redux';\r\nimport { Grid, CircularProgress, Button, Typography, Card, CardContent, CardMedia, CardActions } from '@material-ui/core';\r\nimport ThumbUpAltIcon from '@material-ui/icons/ThumbUpAlt';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport MoreHorizIcon from '@material-ui/icons/MoreHoriz';\r\nimport moment from 'moment';\r\nimport { useDispatch } from 'react-redux';\r\nimport { deletePost, likePost } from '../../actions/posts';\r\n\r\nconst Posts = ({ setCurrentId }) => {\r\n    const classes = useStyles();\r\n    const dispatch = useDispatch();\r\n    const posts = useSelector((state) => state.posts);\r\n    const [loading, setLoading] = useState(false);  // To handle action loading state\r\n\r\n    const handleLike = (id) => {\r\n        setLoading(true);\r\n        dispatch(likePost(id))\r\n            .finally(() => setLoading(false)); // Reset loading state after dispatch\r\n    };\r\n\r\n    const handleDelete = (id) => {\r\n        setLoading(true);\r\n        dispatch(deletePost(id))\r\n            .finally(() => setLoading(false)); // Reset loading state after dispatch\r\n    };\r\n\r\n    return (\r\n        <>\r\n            {!posts.length ? <CircularProgress /> : (\r\n                <Grid className={classes.container} container alignItems='stretch' spacing={3}>\r\n                    {posts.map((post) => (\r\n                        <Grid key={post._id} item xs={12} sm={6}>\r\n                            <Card className={classes.card}>\r\n                                <CardMedia className={classes.media} image={post.selectedFile} title={post.title} />\r\n                                <div className={classes.overlay}>\r\n                                    <Typography variant='h6'>{post.creator}</Typography>\r\n                                    <Typography variant='body2'>{moment(post.createdAt).fromNow()}</Typography>\r\n                                </div>\r\n                                <div className={classes.overlay2}>\r\n                                    <Button style={{ color: 'white' }} size='small' color='primary' onClick={() => setCurrentId(post._id)}><MoreHorizIcon fontSize=\"default\" /></Button>\r\n                                </div>\r\n                                <div className={classes.details}>\r\n                                    <Typography variant='body2' color='textSecondary'>{post.tags.map((tag) => `#${tag} `)}</Typography>\r\n                                </div>\r\n                                <Typography className={classes.title} variant='h5' gutterBottom>{post.title}</Typography>\r\n                                <CardContent>\r\n                                    <Typography variant='body2' color='textSecondary' component='p'>{post.message}</Typography>\r\n                                </CardContent>\r\n                                <CardActions className={classes.cardActions}>\r\n                                    <Button \r\n                                        size='small' \r\n                                        color='primary' \r\n                                        onClick={() => handleLike(post._id)}\r\n                                        disabled={loading}\r\n                                    >\r\n                                        <ThumbUpAltIcon fontSize='small' /> Like&nbsp;{post.likeCount}\r\n                                    </Button>\r\n                                    <Button \r\n                                        size='small' \r\n                                        color='primary' \r\n                                        onClick={() => handleDelete(post._id)}\r\n                                        disabled={loading}\r\n                                        style={{ color: 'red' }}\r\n                                    >\r\n                                        <DeleteIcon  fontSize='small' /> Delete\r\n                                    </Button>\r\n                                </CardActions>\r\n                            </Card>\r\n                        </Grid>\r\n                    ))}\r\n                </Grid>\r\n            )}\r\n        </>\r\n    );\r\n}\r\n\r\nexport default Posts;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}