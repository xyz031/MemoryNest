{"ast":null,"code":"import _objectSpread from\"C:/Users/adity/OneDrive/Desktop/MemoryNest/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from\"react\";import{TextField,Button,Typography,Paper}from'@material-ui/core';import useStyles from\"./styles.js\";import FileBase from'react-file-base64';import{useDispatch}from'react-redux';import{useSelector}from'react-redux';import{createPost,updatePost}from'../../actions/posts';import{jsxs as _jsxs,jsx as _jsx,Fragment as _Fragment}from\"react/jsx-runtime\";function Form(_ref){let{currentId,setCurrentId}=_ref;const[postData,setPostData]=useState({creator:'',title:'',message:'',tags:'',selectedFile:''});const post=useSelector(state=>currentId?state.posts.find(p=>p._id===currentId):null);const classes=useStyles();const dispatch=useDispatch();useEffect(()=>{if(post)setPostData(post);},[post]);const handleSubmit=e=>{e.preventDefault();if(currentId){dispatch(updatePost(currentId,postData));clear();}else{dispatch(createPost(postData));clear();}};const clear=()=>{setCurrentId(null);setPostData({creator:'',title:'',message:'',tags:'',selectedFile:''});};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Paper,{className:classes.paper,children:/*#__PURE__*/_jsxs(\"form\",{autoComplete:\"off\",noValidate:true,className:\"\".concat(classes.root,\" \").concat(classes.form),onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(Typography,{variant:\"h6\",children:[currentId?'Editing ':'Creating',\" a Memory\"]}),/*#__PURE__*/_jsx(TextField,{name:\"creator\",variant:\"outlined\",label:\"Creator\",fullWidth:true,value:postData.creator,onChange:e=>setPostData(_objectSpread(_objectSpread({},postData),{},{creator:e.target.value}))}),/*#__PURE__*/_jsx(TextField,{name:\"title\",variant:\"outlined\",label:\"Title\",fullWidth:true,value:postData.title,onChange:e=>setPostData(_objectSpread(_objectSpread({},postData),{},{title:e.target.value}))}),/*#__PURE__*/_jsx(TextField,{name:\"message\",variant:\"outlined\",label:\"Message\",fullWidth:true,value:postData.message,onChange:e=>setPostData(_objectSpread(_objectSpread({},postData),{},{message:e.target.value}))}),/*#__PURE__*/_jsx(TextField,{name:\"tags\",variant:\"outlined\",label:\"Tags\",fullWidth:true,value:postData.tags,onChange:e=>setPostData(_objectSpread(_objectSpread({},postData),{},{tags:e.target.value.split(',')}))}),/*#__PURE__*/_jsx(\"div\",{className:classes.fileInput,children:/*#__PURE__*/_jsx(FileBase,{type:\"file\",multiple:false,onDone:_ref2=>{let{base64}=_ref2;return setPostData(_objectSpread(_objectSpread({},postData),{},{selectedFile:base64}));}})}),/*#__PURE__*/_jsx(Button,{className:classes.buttonSubmit,variant:\"contained\",color:\"primary\",size:\"large\",type:\"submit\",fullWidth:true,children:\"Submit\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"secondary\",size:\"small\",onClick:clear,fullWidth:true,children:\"Clear\"})]})})});}export default Form;","map":{"version":3,"names":["React","useState","useEffect","TextField","Button","Typography","Paper","useStyles","FileBase","useDispatch","useSelector","createPost","updatePost","jsxs","_jsxs","jsx","_jsx","Fragment","_Fragment","Form","_ref","currentId","setCurrentId","postData","setPostData","creator","title","message","tags","selectedFile","post","state","posts","find","p","_id","classes","dispatch","handleSubmit","e","preventDefault","clear","children","className","paper","autoComplete","noValidate","concat","root","form","onSubmit","variant","name","label","fullWidth","value","onChange","_objectSpread","target","split","fileInput","type","multiple","onDone","_ref2","base64","buttonSubmit","color","size","onClick"],"sources":["C:/Users/adity/OneDrive/Desktop/MemoryNest/client/src/components/Form/Form.jsx"],"sourcesContent":[" \r\nimport React, { useState,useEffect } from \"react\";\r\nimport { TextField,Button,Typography,Paper} from '@material-ui/core';\r\nimport useStyles from \"./styles.js\"\r\nimport FileBase from 'react-file-base64'; \r\nimport {useDispatch} from 'react-redux';\r\nimport {useSelector} from 'react-redux';\r\nimport {createPost,updatePost} from '../../actions/posts';\r\n\r\n\r\nfunction Form({currentId , setCurrentId}){\r\n    const [postData , setPostData] = useState({\r\n        creator:'',\r\n        title:'',\r\n        message:'',\r\n        tags:'',\r\n        selectedFile:''\r\n    });\r\n    const post = useSelector((state) => currentId ? state.posts.find((p)=> p._id === currentId ): null);\r\n    const classes = useStyles();\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(()=>{\r\n        if(post)\r\n            setPostData(post);\r\n    },[post])\r\n\r\n    const handleSubmit = (e) => {\r\n         e.preventDefault();\r\n\r\n        if(currentId){\r\n            dispatch(updatePost(currentId,postData));\r\n            clear();\r\n        }else{\r\n            dispatch(createPost(postData));\r\n            clear();\r\n        }\r\n\r\n        \r\n    }\r\n\r\n    const clear = () => {\r\n        setCurrentId(null);\r\n        setPostData({\r\n            creator:'',\r\n            title:'',\r\n            message:'',\r\n            tags:'',\r\n            selectedFile:''\r\n        });\r\n    }\r\n\r\n    return (\r\n        <>\r\n         <Paper className={classes.paper}>\r\n            <form autoComplete='off' noValidate  className={`${classes.root} ${classes.form}`} onSubmit={handleSubmit}>\r\n                <Typography variant='h6'>{currentId ? 'Editing ': 'Creating'} a Memory</Typography>\r\n                <TextField \r\n                    name='creator' \r\n                    variant='outlined' \r\n                    label='Creator' \r\n                    fullWidth\r\n                    value={postData.creator}\r\n                    onChange={(e)=> setPostData({...postData,creator: e.target.value})}  \r\n                />\r\n\r\n                <TextField \r\n                    name='title' \r\n                    variant='outlined' \r\n                    label='Title' \r\n                    fullWidth\r\n                    value={postData.title}\r\n                    onChange={(e)=> setPostData({...postData,title: e.target.value})} \r\n                />\r\n\r\n                <TextField \r\n                    name='message' \r\n                    variant='outlined' \r\n                    label='Message' \r\n                    fullWidth\r\n                    value={postData.message}\r\n                    onChange={(e)=> setPostData({...postData,message: e.target.value})} \r\n                />\r\n\r\n                <TextField \r\n                    name='tags'\r\n                    variant='outlined'\r\n                    label='Tags' \r\n                    fullWidth\r\n                    value={postData.tags}\r\n                    onChange={(e)=> setPostData({...postData,tags: e.target.value.split(',')})} \r\n                />\r\n                <div className={classes.fileInput}>\r\n                    <FileBase \r\n                        type='file'\r\n                        multiple = {false}\r\n                        onDone = {({base64})=> setPostData({...postData,selectedFile: base64})}\r\n                    />\r\n                </div>\r\n                <Button className={classes.buttonSubmit} variant='contained' color='primary' size='large' type='submit' fullWidth>Submit</Button>\r\n                <Button variant='contained' color='secondary' size='small' onClick={clear} fullWidth>Clear</Button>\r\n            </form>\r\n         </Paper>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Form;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}